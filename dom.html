<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>DOM – dynamiczne elementy</title>

<style>
  body {
    font-family: Arial, sans-serif;
    padding: 20px;
    background: #f4f6f8;
    color: #333;
  }

  h2 {
    margin-bottom: 15px;
  }

  button {
    padding: 10px 16px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 14px;
    margin-right: 8px;
    transition: background 0.2s, transform 0.1s;
  }

  button#add {
    background: #2ecc71;
    color: white;
  }

  button#remove {
    background: #e74c3c;
    color: white;
  }

  button:hover {
    transform: scale(1.05);
    filter: brightness(1.1);
  }

  button:active {
    transform: scale(0.97);
  }

  label {
    display: block;
    margin: 10px 0;
  }

  input[type="text"] {
    padding: 6px 8px;
    border-radius: 4px;
    border: 1px solid #ccc;
    width: 200px;
  }

  input[type="range"] {
    vertical-align: middle;
  }

  #sizeValue {
    font-weight: bold;
    margin-left: 6px;
  }

  #container {
    margin-top: 25px;
    padding: 15px;
    min-height: 80px;
    border: 2px dashed #bbb;
    border-radius: 8px;
    background: white;
  }

  .box {
    margin: 6px;
    display: inline-block;
    text-align: center;
    cursor: pointer;
    user-select: none;
    border-radius: 8px;
    font-weight: bold;
    transition: 
      transform 0.2s,
      box-shadow 0.2s,
      background-color 0.2s;
    box-shadow: 0 3px 6px rgba(0,0,0,0.15);
  }

  .box:hover {
    transform: translateY(-4px);
    box-shadow: 0 6px 12px rgba(0,0,0,0.25);
  }
</style>

</head>
<body>

<h2>DOM – dynamiczne elementy</h2>

<button id="add">Dodaj element</button>
<button id="remove">Usuń ostatni</button>

<br><br>

<label>
  Tekst w elemencie:
  <input type="text" id="textInput" placeholder="Wpisz tekst">
</label>

<br><br>

<label>
  Rozmiar nowego elementu:
  <input type="range" id="sizeSlider" min="30" max="150" value="60">
</label>
<span id="sizeValue">60</span> px

<br><br>

<label>
  Kolor HEX:
  <input type="text" id="hexInput" value="#3498db" placeholder="#ff0000">
</label>

<br><br>

<label>
  <input type="radio" name="colorMode" value="hex" checked>
  HEX
</label><br>
<label>
  <input type="radio" name="colorMode" value="white">
  Biały
</label><br>
<label>
  <input type="radio" name="colorMode" value="black">
  Czarny
</label>

<div id="container"></div>

<script>
  const addBtn = document.getElementById("add");
  const removeBtn = document.getElementById("remove");
  const container = document.getElementById("container");
  const textInput = document.getElementById("textInput");

  const sizeSlider = document.getElementById("sizeSlider");
  const sizeValue = document.getElementById("sizeValue");

  const hexInput = document.getElementById("hexInput");
  const colorModes = document.getElementsByName("colorMode");

  sizeSlider.addEventListener("input", () => {
    sizeValue.textContent = sizeSlider.value;
  });

  // sprawdzanie poprawności HEX
  function isValidHex(hex) {
    return /^#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6})$/.test(hex);
  }

  addBtn.addEventListener("click", () => {
    const box = document.createElement("div");
    box.className = "box";

    const size = sizeSlider.value;
    box.style.width = size + "px";
    box.style.height = size + "px";
    box.style.lineHeight = size + "px";

    box.textContent = textInput.value || "BOX";

    let selectedMode = "hex";
    for (const mode of colorModes) {
      if (mode.checked) selectedMode = mode.value;
    }

    if (selectedMode === "white") {
      box.style.backgroundColor = "white";
      box.style.color = "black";
    }
    else if (selectedMode === "black") {
      box.style.backgroundColor = "black";
      box.style.color = "white";
    }
    else {
      const hex = hexInput.value;
      if (isValidHex(hex)) {
        box.style.backgroundColor = hex;
        box.style.color = "white";
      } else {
        box.style.backgroundColor = "#777";
        box.style.color = "white";
      }
    }

    box.addEventListener("click", () => {
      box.style.backgroundColor = "tomato";
      box.style.color = "white";
    });

    container.appendChild(box);
  });

  removeBtn.addEventListener("click", () => {
    if (container.children.length > 0) {
      container.removeChild(container.lastElementChild);
    }
  });
</script>

</body>
</html>


